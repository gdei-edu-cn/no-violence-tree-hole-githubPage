(function(e){function s(s){for(var a,o,r=s[0],c=s[1],l=s[2],p=0,m=[];p<r.length;p++)o=r[p],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(s);while(m.length)m.shift()();return n.push.apply(n,l||[]),t()}function t(){for(var e,s=0;s<n.length;s++){for(var t=n[s],a=!0,r=1;r<t.length;r++){var c=t[r];0!==i[c]&&(a=!1)}a&&(n.splice(s--,1),e=o(o.s=t[0]))}return e}var a={},i={app:0},n=[];function o(s){if(a[s])return a[s].exports;var t=a[s]={i:s,l:!1,exports:{}};return e[s].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=a,o.d=function(e,s,t){o.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:t})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,s){if(1&s&&(e=o(e)),8&s)return e;if(4&s&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&s&&"string"!=typeof e)for(var a in e)o.d(t,a,function(s){return e[s]}.bind(null,a));return t},o.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(s,"a",s),s},o.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=s,r=r.slice();for(var l=0;l<r.length;l++)s(r[l]);var u=c;n.push([0,"chunk-vendors"]),t()})({0:function(e,s,t){e.exports=t("56d7")},"034f":function(e,s,t){"use strict";t("85ec")},"56d7":function(e,s,t){"use strict";t.r(s);t("9a83");var a=t("f564"),i=(t("91d5"),t("f0ca")),n=(t("480b"),t("a37c")),o=(t("29ea"),t("df1a")),r=(t("c3a6"),t("ad06")),c=(t("e930"),t("8f80")),l=(t("66b9"),t("b650")),u=(t("38d5"),t("772a")),p=(t("be7f"),t("565f")),m=(t("e260"),t("e6cf"),t("cca6"),t("a79d"),t("2b0e")),g=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{attrs:{id:"app"}},[t("Tree")],1)},f=[],d=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[e.showHistory?e._e():t("div",{staticClass:"treeWrapper"},[t("van-notice-bar",{attrs:{scrollable:"",text:e.text}}),t("div",{staticClass:"treeTitle"},[e._v("N益树洞")]),t("div"),t("div",{staticClass:"historyMessageWrapper"},[t("div",{staticClass:"historyMessage",on:{click:e.showHistoryMessage}},[t("span",[e._v("历史")]),t("van-icon",{directives:[{name:"show",rawName:"v-show",value:0===e.badge,expression:"badge===0"}],attrs:{name:"chat-o",size:"20px"}}),t("van-icon",{directives:[{name:"show",rawName:"v-show",value:0!==e.badge,expression:"badge!==0"}],attrs:{name:"chat-o",size:"20px",badge:e.badge}})],1)]),t("div",{staticClass:"messageInputWrapper"},[t("van-form",{on:{submit:e.onSubmit}},[t("van-field",{attrs:{name:"nickName",label:"昵称",placeholder:"昵称",rules:[{required:!0,message:"请填写昵称喔~"}]},model:{value:e.nickName,callback:function(s){e.nickName=s},expression:"nickName"}}),t("br"),t("van-field",{attrs:{name:"message",rows:"4",autosize:"",label:"留言",type:"textarea",maxlength:"200",placeholder:"请与小益分享你的故事吧~","show-word-limit":"",rules:[{required:!0,message:"请输入留言喔~"}]},model:{value:e.message,callback:function(s){e.message=s},expression:"message"}}),t("van-field",{attrs:{name:"uploader",label:" "},scopedSlots:e._u([{key:"input",fn:function(){return[t("van-uploader",{model:{value:e.uploader,callback:function(s){e.uploader=s},expression:"uploader"}})]},proxy:!0}],null,!1,3638382176)}),t("div",{staticStyle:{margin:"16px"}},[t("van-button",{staticClass:"subButton",attrs:{round:"",block:"","native-type":"submit"}},[e._v("分享留言")])],1)],1)],1)],1),e.showHistory?t("HistoryMessage",{attrs:{showHistory:e.showHistory},on:{setShowHistory:e.setShowHistory,clearMessageList:e.clearMessageList}}):e._e()],1)},h=[],v=(t("e9c4"),function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"historyMessageWrapper"},[t("div",{staticClass:"backBtn",on:{click:e.goBack}},[t("span",[e._v("返回")]),t("van-icon",{attrs:{name:"revoke",size:"20px"}})],1),e.showHistoryMessageList?t("div",{staticClass:"historyMessageList"},[e._l(e.messageList,(function(s,a){return t("div",{key:a,staticClass:"historyMessageItem"},[t("span",{staticClass:"nickName"},[e._v(e._s(s.nickName)+":")]),t("p",{staticClass:"text"},[e._v(" "+e._s(s.message)+" ")])])})),t("div",{staticClass:"clearHistoryMessage",on:{click:e.clearHistoryMessage}},[e._v("清空历史留言")])],2):e._e(),e.showHistoryMessageList?e._e():t("div",{staticClass:"emptyWapper"},[t("van-empty",{staticClass:"custom-image",attrs:{description:"暂无历史留言喔~"}})],1)])}),y=[],b=(t("e17f"),t("2241")),w={name:"",data:function(){return{messageList:JSON.parse(localStorage.getItem("messageList"))||[],showHistoryMessageList:!1}},props:["showHistory","clearMessageList"],methods:{goBack:function(){this.$emit("setShowHistory")},clearHistoryMessage:function(){var e=this;console.log(null===this.messageList),console.log(void 0===this.messageList[0]),b["a"].confirm({title:"温馨提示",message:"您的所有留言将会被清空，您确定要这么做吗~",confirmButtonColor:"##007c40"}).then((function(){localStorage.removeItem("messageList"),e.messageList=[],e.showHistoryMessageList=!1,e.$emit("clearMessageList")})).catch((function(){}))}},watch:{messageList:{handler:function(){void 0===this.messageList[0]?this.showHistoryMessageList=!1:this.showHistoryMessageList=!0},immediate:!0}}},L=w,M=(t("f18f"),t("2877")),_=Object(M["a"])(L,v,y,!1,null,"09c364d4",null),k=_.exports,x={name:"",components:{HistoryMessage:k},data:function(){return{text:"友善发言，共同维护良好的网络环境喔~",nickName:"",message:"",uploader:[{url:"https://img01.yzcdn.cn/vant/leaf.jpg"}],showHistory:!1,messageList:JSON.parse(localStorage.getItem("messageList"))||[]}},computed:{badge:{get:function(){return this.messageList.length||0},set:function(e){console.log(e)}}},methods:{onSubmit:function(){var e=this.nickName,s=this.message,t=this.messageList;console.log(t);var i={nickName:e,message:s};t.push(i),localStorage.setItem("messageList",JSON.stringify(t)),Object(a["a"])({type:"success",message:"留言成功"}),this.nickName="",this.message=""},showHistoryMessage:function(){this.showHistory=!0},setShowHistory:function(){this.showHistory=!1,this.badge=this.messageList.length||0},clearMessageList:function(){this.messageList=[]}}},H=x,S=(t("f07e"),Object(M["a"])(H,d,h,!1,null,"62eeee50",null)),O=S.exports,C={name:"App",components:{Tree:O}},N=C,j=(t("034f"),Object(M["a"])(N,g,f,!1,null,null,null)),P=j.exports;t("157a");m["a"].use(p["a"]),m["a"].use(u["a"]),m["a"].use(l["a"]),m["a"].use(c["a"]),m["a"].use(r["a"]),m["a"].use(o["a"]),m["a"].use(n["a"]),m["a"].use(i["a"]),m["a"].use(a["a"]),m["a"].config.productionTip=!1,new m["a"]({render:function(e){return e(P)}}).$mount("#app")},7157:function(e,s,t){},"85ec":function(e,s,t){},d933:function(e,s,t){},f07e:function(e,s,t){"use strict";t("d933")},f18f:function(e,s,t){"use strict";t("7157")}});
//# sourceMappingURL=app.2466d6bd.js.map